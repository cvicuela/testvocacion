<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Vocacional</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
  <style></style></title>
  </head>
  :root {--navy:#1b1464;--dark-blue:#2d1b8e;--accent:#6c5ce7;--pink:#fda7df;--green:#2dd4bf;--green-light:#ccfbf1;--card:#fff;--bg:#f9fafb;--border:#e5e7eb;--text:#1f2937;--text-light:#6b7280;--shadow:0 4px 6px rgba(0,0,0,.07)}
  * {margin:0;padding:0;box-sizing:border-box}
  body {font-family:'DM Sans',sans-serif;background:linear-gradient(135deg,#f9fafb 0%,#f3f4f6 100%);color:var(--text)}
  .container {max-width:1200px;margin:0 auto;padding:20px}
  header {text-align:center;padding:60px 20px 40px;background:linear-gradient(135deg,var(--navy) 0%,var(--dark-blue) 100%);color:#fff;border-radius:20px;margin-bottom:40px;box-shadow:var(--shadow)}
  header h1 {font-family:'Playfair Display',serif;font-size:48px;font-weight:700}
  .form-section {background:var(--card);padding:40px;border-radius:16px;box-shadow:var(--shadow);margin:0 auto 30px;max-width:600px}
  label {display:block;margin-bottom:8px;font-weight:600;color:var(--navy)}
  input[type="text"],select {width:100%;padding:12px;border:1.5px solid var(--border);border-radius:10px;font-family:'DM Sans',sans-serif}
  input[type="text"]:focus,select:focus {outline:0;border-color:var(--accent);box-shadow:0 0 0 3px rgba(108,92,231,.1)}
  .questions-section {background:var(--card);padding:40px;border-radius:16px;box-shadow:var(--shadow);margin-bottom:30px;display:none}
  .questions-section.show {display:block}
  .question-title {font-size:18px;font-weight:600;color:var(--navy);margin-bottom:16px}
  .option-group {display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px;margin-bottom:32px}
  .option input[type="radio"] {display:none}
  .option label {padding:12px;border:1.5px solid var(--border);border-radius:10px;cursor:pointer;text-align:center;font-weight:500;background:#fff}
  .option input[type="radio"]:checked+label {border-color:var(--accent);background:linear-gradient(135deg,rgba(108,92,231,.1),rgba(253,167,223,.1));color:var(--accent)}
  button {padding:14px 32px;border:0;border-radius:10px;font-family:'DM Sans',sans-serif;font-weight:600;cursor:pointer;transition:all .3s}
  .btn-primary {background:linear-gradient(135deg,var(--navy),var(--dark-blue));color:#fff;width:100%;margin-top:20px}
  .btn-primary:hover {box-shadow:0 6px 20px rgba(27,20,100,.3)}
  .results-section {background:var(--card);padding:40px;border-radius:16px;box-shadow:var(--shadow);display:none}
  .results-section.show {display:block}
  .result-card {background:linear-gradient(135deg,var(--accent),var(--pink));color:#fff;padding:30px;border-radius:12px;margin-bottom:20px;text-align:center}
  .result-details {margin-top:20px;text-align:left;background:rgba(255,255,255,.1);padding:20px;border-radius:10px}
  .paywall-section {background:var(--card);border-radius:16px;padding:32px;box-shadow:var(--shadow);margin-top:28px}
  .paywall-section h3 {font-family:'Playfair Display',serif;font-size:22px;color:var(--navy);text-align:center;margin-bottom:8px}
  .paywall-section>p {color:var(--text-light);text-align:center;margin-bottom:28px}
  .paywall-plans {display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:24px}
  .plan {border:1.5px solid var(--border);border-radius:12px;padding:24px;background:#fff}
  .plan:hover {border-color:var(--accent);box-shadow:0 8px 24px rgba(108,92,231,.15);transform:translateY(-4px)}
  .premium-plan {border-color:var(--accent);background:linear-gradient(135deg,rgba(108,92,231,.03) 0%,rgba(253,167,223,.03) 100%)}
  .plan-badge {position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:var(--accent);color:#fff;padding:4px 16px;border-radius:100px;font-size:11px;font-weight:700}
  .plan-header h4 {font-size:18px;font-weight:600;color:var(--navy);margin-bottom:6px}
  .price {font-size:28px;font-weight:700;color:var(--accent)}
  .plan-features {list-style:none;margin:20px 0}
  .plan-features li {padding:8px 0;font-size:13px;color:var(--text);border-bottom:1px solid var(--bg)}
  .plan-features li:last-child {border-bottom:0}
  .btn-paypal {width:100%;padding:14px;border:0;border-radius:10px;font-family:'DM Sans',sans-serif;color:#fff;cursor:pointer;margin-top:10px}
  .btn-paypal.basic {background:var(--navy)}
  .btn-paypal.premium {background:linear-gradient(135deg,var(--navy),var(--dark-blue))}
  @media (max-width:600px) {.paywall-plans {grid-template-columns:1fr} .option-group {grid-template-columns:1fr}}
</html>style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Test Vocacional</h1>
    <p>Descubre tu carrera ideal</p>
    </header>
  <div class="form-section">
  <div style="margin-bottom:24px">
  <label>Tu Nombre</label>
  <input type="text" id="userName" placeholder="Escribe tu nombre...">
  </div>div>
  <button class="btn-primary" onclick="startTest()">Comenzar Test</button>button>
  </div>div>
  <div class="questions-section" id="questionsSection">
  <h2 style="font-family:'Playfair Display',serif;font-size:28px;color:var(--navy);margin-bottom:30px">Cuéntanos sobre tus aptitudes</h2>
  <div><div class="question-title">¿Cuál de estas actividades te atrae más?</div>
  <div class="option-group">
    <div class="option"><input type="radio" id="q1a" name="question1" value="creativo"><label for="q1a">Crear</label>label></div>
    <div class="option"><input type="radio" id="q1b" name="question1" value="analitico"><label for="q1b">Analizar</label>label></div>
    <div class="option"><input type="radio" id="q1c" name="question1" value="social"><label for="q1c">Ayudar</label>label></div>
    <div class="option"><input type="radio" id="q1d" name="question1" value="tecnico"><label for="q1d">Construir</label>label></div>
  </div></div>
    <div><div class="question-title">¿En qué ambiente prefieres trabajar?</div>
    <div class="option-group">
      <div class="option"><input type="radio" id="q2a" name="question2" value="oficina"><label for="q2a">Oficina</label>label></div>
      <div class="option"><input type="radio" id="q2b" name="question2" value="exteriores"><label for="q2b">Exteriores</label>label></div>
      <div class="option"><input type="radio" id="q2c" name="question2" value="taller"><label for="q2c">Taller</label>label></div>
      <div class="option"><input type="radio" id="q2d" name="question2" value="flexible"><label for="q2d">Flexible</label>label></div>
    </div></div>
    <div><div class="question-title">¿Cuál es tu nivel de educación deseado?</div>
      <div class="option-group">
        <div class="option"><input type="radio" id="q3a" name="question3" value="tecnico"><label for="q3a">Técnico</label>label></div>
        <div class="option"><input type="radio" id="q3b" name="question3" value="licenciatura"><label for="q3b">Licenciatura</label>label></div>
        <div class="option"><input type="radio" id="q3c" name="question3" value="maestria"><label for="q3c">Maestría</label>label></div>
        <div class="option"><input type="radio" id="q3d" name="question3" value="doctorado"><label for="q3d">Doctorado</label>label></div>
      </div></div>
    <button class="btn-primary" onclick="generateResults()">Ver Resultados</button>button>
  </div>
    <div class="results-section" id="resultsSection">
      <div id="resultsBody"></div>
      <div id="paywallSection"></div>
    </div>
  </div>
  <script src="https://www.paypal.com/sdk/js?client-id=YOUR_PAYPAL_CLIENT_ID_SANDBOX&currency=USD"></script>
  <script>
    function startTest(){const n=document.getElementById('userName').value;if(!n.trim()){alert('Ingresa tu nombre');return}document.querySelector('.form-section').style.display='none';document.getElementById('questionsSection').classList.add('show')}
    function generateResults(){const q1=document.querySelector('input[name="question1"]:checked')?.value,q2=document.querySelector('input[name="question2"]:checked')?.value,q3=document.querySelector('input[name="question3"]:checked')?.value;if(!q1||!q2||!q3){alert('Completa todas las preguntas');return}let career='Profesional',desc='Basado en respuestas...';if(q1==='creativo'){career='Diseñador';desc='Tu creatividad te hace ideal.'}else if(q1==='analitico'){career='Ingeniero';desc='Tu capacidad analítica es perfecta.'}else if(q1==='social'){career='Psicólogo';desc='Tu empatía abrirá puertas.'}else{career='Técnico';desc='Tu habilidad práctica es valiosa.'}window._lastResults={primary:career,q1,q2,q3};document.getElementById('questionsSection').classList.remove('show');document.getElementById('resultsSection').classList.add('show');const html=`<div class="result-card"><h2>${career}</h2><p>${desc}</p><div class="result-details"><p><strong>Entorno:</strong> ${q2}</p><p><strong>Educación:</strong> ${q3}</p></div></div>`;document.getElementById('resultsBody').innerHTML=html;document.getElementById('paywallSection').innerHTML=`<div class="paywall-section"><h3>Unlock Report</h3><p>Acceso a análisis completo</p><div class="paywall-plans"><div class="plan"><div class="plan-header"><h4>Basic</h4><span class="price">$4.99</span></div><ul class="plan-features"><li>Perfil completo</li><li>Recomendaciones</li><li>PDF</li></ul><button class="btn-paypal basic" onclick="initPayPal('4.99')">Pagar</button></div><div class="plan premium-plan"><div class="plan-badge">RECOMENDADO</div><div class="plan-header"><h4>Premium</h4><span class="price">$9.99</span></div><ul class="plan-features"><li>Perfil completo</li><li>Recomendaciones</li><li>PDF</li><li>Salarios</li><li>Carreras</li><li>Soporte</li></ul><button class="btn-paypal premium" onclick="initPayPal('9.99')">Pagar</button></div></div></div>`}
    async function initPayPal(amount){try{const r=await fetch('/.netlify/functions/paypal-create-order',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({amount,description:'Career Report'})});const d=await r.json();if(!d.id){alert('Error');return}const c=document.createElement('div');c.id='paypal-'+d.id;c.style.marginTop='16px';document.getElementById('paywallSection').appendChild(c);paypal.Buttons({createOrder:()=>d.id,onApprove:()=>capturePayPal(d.id),onError:e=>{console.error(e);alert('Error')},onCancel:()=>alert('Cancelado')}).render('#paypal-'+d.id)}catch(e){console.error(e);alert('Error')}}
    async function capturePayPal(id){try{const r=await fetch('/.netlify/functions/paypal-capture-order',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({orderId:id})});const d=await r.json();if(d.paymentStatus==='COMPLETED'){document.getElementById('paywallSection').innerHTML='<div style="background:linear-gradient(135deg,var(--green-light),#E6FFF7);border:1px solid var(--green);border-radius:12px;padding:16px;text-align:center;color:var(--green);font-weight:600">✓ Reporte desbloqueado!</div>';const results=window._lastResults||{};fetch('/.netlify/functions/referral-invite',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({referrerEmail:document.getElementById('userName').value||'anonymous',inviteeEmail:'payment@test.com',testName:results.primary||'Unknown',primaryDimension:results.primary||'Unknown'})}).catch(e=>console.log(e))}else throw new Error('Not completed')}catch(e){console.error(e);alert('Error')}}
  </script>
</body>
</html>
  </script>
    </div>
  </div></label></p></h1>
    </header>
</body>
